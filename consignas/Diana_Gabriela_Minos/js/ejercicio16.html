<!DOCTYPE html>
<html class="no-js" lang="es">

<head>
    <meta charset="utf-8" />
    <title></title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--
        1) Definir un array participantes que contendra los siguientes nombres:
                Ana, Osvaldo, Raúl, Celia, María, Antonio
                2) Definir una funcion que permita agregar nuevos particpantes
                3) Definir una funcion que nos permita saber si un partipante ya se ha agregado.
                4) No se pueden duplicar (repetir) los particpantes.
                5) Se debe poder cargar en un formulario de html Nombre 
                6) El formulario debe tener un boton Agregar Participante  
                 7) Mostrar el listado de participantes en un elemento <ul> ordenados alfabeticamente.
                8) La lista debe actualizarse cada vez que se agrega un participante.
            
            -->
</head>

<body>

    <h3>Ingrese nombre</h3>

    <label for='nombre'>Nombre Participante</label>
    <input type='text' id='nombre'>

    <button onclick="agregarParticipante()">Agregar Participante</button>

    <br>

    <ul id='lista'></ul>

    <script>

        let participantes = ['Ana', 'Osvaldo', 'Raul', 'Celia', 'Maria', 'Antonio'];

        function crearElementoUl() { // creo la lista de participantes ordenados
            participantes.sort(); // ordeno participantes
            participantesHtml = ''; // creo una variable vacía para ir llenando con los nombres
            participantes.forEach(item => {
                participantesHtml = participantesHtml + '<li>' + item + '</li>'; // creo la lista en sí
            })
            document.getElementById('lista').innerHTML = 'Lista de participantes ordenados alfabéticamente: ' + participantesHtml; //muestro la lista de participantes en el html
            document.getElementById('nombre').value = '';
        }

        function agregarParticipante() {

            var nombreParticipante = document.getElementById('nombre').value;


            if (!existeParticipante(participantes, nombreParticipante)) { // valido si el nombre ya fue ingresado
                // si no empieza en mayùscula, modificamos la primera letra para que sea mayùscula
                if (!empiezaConMayus(nombreParticipante)) {
                    nombreParticipante = mayus(nombreParticipante);
                }
                participantes.push(nombreParticipante) // pusheo ese nombre a participantes
                console.log("participante agregado: " + nombreParticipante)
                crearElementoUl();
            }
            else {
                alert('Nombre ya existente en la lista. Por favor, ingrese uno diferente')
            }

        }

        function mayus(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }

        function empiezaConMayus(string) {
            return string.charAt(0) === string.charAt(0).toUpperCase;
        }


        function existeParticipante(participantes, nombreParticipante) {  // función para validar que el participante no se repita
            var resultado = false
            if (participantes.includes(nombreParticipante)) {
                resultado = true  // le asigno un valor verdadero a la variable resultado
            }
            return resultado;

        }

    </script>

</body>

</html>